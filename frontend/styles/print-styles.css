/* print-styles.css - optimiert für alle Browser (Chrome, Firefox, Safari) */
@media print {
    /* Grundlegende Seiteneinstellungen für alle Seiten */
    @page {
      size: A4 portrait;
      margin: 15mm; /* Reduzierter Standardrand für bessere Kompatibilität */
    }
    
    /* Grundlegende Dokumenteinstellungen */
    html, body {
      width: auto !important;
      height: auto !important;
      margin: 0 !important;
      padding: 0 !important;
      font-size: 11pt;
      -webkit-print-color-adjust: exact;
      print-color-adjust: exact;
      color-adjust: exact;
      background-color: white !important;
      color: black !important;
    }
    
    /* Verstecke alle nicht-druckbaren Elemente */
    .print\:hidden,
    #header,
    #footer,
    button,
    form,
    header,
    nav,
    h3.print\:hidden,
    div.print\:hidden {
      display: none !important;
    }
    
    /* Hauptbriefcontainer */
    #briefvorschau {
      display: block;
      width: auto !important;
      height: auto !important;
      background: white !important;
      color: black !important;
      margin: 0 !important;
      padding: 0 !important;
      overflow: visible;
      box-shadow: none !important;
      position: relative;
    }
    
    #vorschau-container {
      position: relative;
      width: auto !important;
      height: auto !important;
      background: white !important;
      color: black !important;
      box-shadow: none !important;
      border-radius: 0 !important;
      padding: 0 !important;
      margin: 0 !important;
    }
    
    /* Briefkomponenten nach DIN 5008 (angepasst) */
    
    /* Absender - rechtsbündig */
    #brief-absender {
      position: relative;
      margin-top: 0;
      margin-bottom: 15mm;
      padding-right: 0;
      width: 100%;
      max-width: 100%;
      font-size: 10pt !important;
      line-height: 1.2;
      text-align: right;
      white-space: pre-line;
      color: black !important;
    }
    
    /* Empfänger - im Adressfensterbereich */
    #brief-empfaenger {
      position: relative;
      margin-bottom: 15mm;
      width: 85mm;
      font-size: 11pt !important;
      line-height: 1.15;
      text-align: left;
      white-space: pre-line;
      color: black !important;
    }
    
    /* Ort und Datum - rechtsbündig */
    #brief-ortdatum {
      position: relative;
      margin-bottom: 10mm;
      width: 100%;
      text-align: right;
      font-size: 11pt !important;
      line-height: 1.2;
      white-space: pre-line;
      color: black !important;
    }
    
    /* Betreff - linksbündig, fettgedruckt */
    #brief-betreff {
      position: relative;
      margin-bottom: 10mm;
      width: 100%;
      font-weight: bold;
      font-size: 11pt !important;
      line-height: 1.2;
      text-align: left;
      white-space: pre-line;
      color: black !important;
    }
    
    /* Brieftext mit Anrede und Grußformel (Blocksatz) */
    #brief-text {
      position: relative;
      width: 100%;
      font-size: 11pt !important;
      line-height: 1.5;
      text-align: justify;
      white-space: pre-line;
      color: black !important;
      orphans: 4 !important; /* Mehr Zeilen vor einem Seitenumbruch */
      widows: 4 !important;  /* Mehr Zeilen nach einem Seitenumbruch */
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
    }
    
    /* Schriftgrößen-Anpassungen für die Druckausgabe */
    .text-sm {
      font-size: 10pt !important;
    }
    
    .text-base {
      font-size: 11pt !important;
    }
    
    .text-lg {
      font-size: 12pt !important;
    }
    
    /* Verbesserte Seitenumbruch-Regeln (alte und neue Syntax für maximale Kompatibilität) */
    #brief-text, #brief-text p {
      /* Alte Syntax */
      page-break-inside: auto !important;
      page-break-before: auto !important;
      page-break-after: auto !important;
      
      /* Neue Syntax */
      break-inside: auto !important;
      break-before: auto !important;
      break-after: auto !important;
    }
    
    /* Strengere Regeln für Absätze gegen Durchschneiden */
    #brief-text p, #brief-text div {
      page-break-inside: avoid !important;
      break-inside: avoid !important;
      display: inline-block;
      width: 100%;
      margin-bottom: 0.5em;
    }
    
    /* Fix für Safari-spezifische Probleme */
    @media not all and (min-resolution:.001dpcm) { 
      @supports (-webkit-appearance:none) {
        #briefvorschau, #vorschau-container {
          width: 100% !important;
          max-width: 170mm !important;
          margin: 0 auto !important;
        }
        
        #brief-text {
          width: 100% !important;
          max-width: 170mm !important;
        }
      }
    }
  }